<template>
  <header class="app-header">
    <div class="app-header-section" >
      <div class="app-header-box">
        <div class="favoriteAssets"></div>
      </div>
    </div>
    <div class="app-header-section" :class="{ 'dark-mode-text': isDarkMode, 'light-mode-text': !isDarkMode }">
      <div class="app-header-box">
        <div class="header-balances" v-if="!isAccountBar">
          <div class="header-wrap">
            <span class="header-balances-item">
              <div class="">Balance:</div>
              <span class="balance">{{ User.balance }}</span>
            </span>
            <span class="header-balances-item">
              <div class="">Credit:</div>
              <span class="balance">0.00</span>
            </span>
            <span class="header-balances-item">
              <div class="">Equity:</div>
              <span class="balance">0.00</span>
            </span>
            <div class="header-margin">
              <span class="header-balances-item">
                <div class="">Margin</div>
                <div class="ml-sm">Free margin</div>
              </span>
              <div class="margin-bar">
                <div class="margin-bar-inner"></div>
              </div>
              <span class="header-balances-item">
                <span class="balance">0.00</span>
                <span class="balance">0.00</span></span>
            </div>
            <span class="header-balances-item header-balances-item__margin-level">
              <div class="">Margin level:</div>
              <span class="balance">0.00%</span>
            </span>
          </div>
          <div class="header-profit">
            P/L: &nbsp;<span class="">â‚¬ 0.00</span>
          </div>
        </div>
      </div>
      <div class="header-account-real header-account">
        <img src="src/assets/default-avatar.png" class="icon-xlg icon-round mr-sm" alt="" /><b>User - &nbsp;
        </b>
        <span class="header-account-id">460187473</span>
      </div>
      <div class="app-header-box">
        <div class="header-menu cursor-pointer" @click="toggleMenu">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384.97 384.97">
            <path
              d="M12.03 84.212h360.909c6.641 0 12.03-5.39 12.03-12.03 0-6.641-5.39-12.03-12.03-12.03H12.03C5.39 60.152 0 65.541 0 72.182c0 6.641 5.39 12.03 12.03 12.03zM372.939 180.455H12.03c-6.641 0-12.03 5.39-12.03 12.03s5.39 12.03 12.03 12.03h360.909c6.641 0 12.03-5.39 12.03-12.03s-5.389-12.03-12.03-12.03zM372.939 300.758H12.03c-6.641 0-12.03 5.39-12.03 12.03 0 6.641 5.39 12.03 12.03 12.03h360.909c6.641 0 12.03-5.39 12.03-12.03.001-6.641-5.389-12.03-12.03-12.03z">
            </path>
          </svg>
          <div class="dropdown-content" v-show="showMenu" @click.stop
            :class="{ 'dark-dropdown': isDarkMode, 'light-dropdown': !isDarkMode }">
            <ul class="menu-list">
              <router-link class="router-link" :class="{ 'light-text': isDarkMode, 'dark-text': !isDarkMode }" to="/dashboard">

                <li class="menu-item" @click="toggleMenu">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                    <path
                    d="M31 31.36H1A.36.36 0 01.64 31V1h.72v29.64H31v.72zM24.36 26h-.72v-2.64H21v-.72h2.64V7h.721v1.64H27v.72h-2.64V26zm-8 0h-.72v-6.64H13v-.72h2.64V7h.72v5.64H19v.72h-2.64V26zm-8 0h-.72v-4.64H5v-.72h2.64V7h.72v3.64H11v.72H8.36V26z">
                  </path>
                  <path fill="none" d="M0 0h32v32H0z"></path>
                </svg>
                Trading
              </li>
            </router-link>
              <router-link class="router-link" :class="{ 'light-text': isDarkMode, 'dark-text': !isDarkMode }" to="/profile">
                <li class="menu-item" @click="toggleMenu">
                  <svg height="800" width="800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60">
                    <path
                      d="M52.179 40.5l-5.596 8.04-3.949-3.241a1 1 0 10-1.268 1.545l4.786 3.929a.995.995 0 00.771.217c.276-.038.524-.19.684-.419l6.214-8.929a1 1 0 10-1.642-1.142z">
                    </path>
                    <path
                      d="M54.164 35.163A27.54 27.54 0 0055 28.5C55 13.337 42.664 1 27.5 1S0 13.337 0 28.5c0 8.01 3.444 15.229 8.927 20.259l-.026.023.891.751c.056.047.117.086.173.133.477.396.972.772 1.476 1.136.159.115.318.23.479.341.535.369 1.085.719 1.646 1.051l.366.211a27.69 27.69 0 001.881.981l.141.064a27.259 27.259 0 006.65 2.105l.185.033c.723.125 1.455.225 2.197.292.09.008.181.013.271.021.741.06 1.487.099 2.243.099a27.35 27.35 0 009.503-1.702C39.389 57.168 42.984 59 47 59c7.168 0 13-5.832 13-13 0-4.522-2.323-8.508-5.836-10.837zM2 28.5C2 14.439 13.439 3 27.5 3S53 14.439 53 28.5c0 1.903-.214 3.804-.639 5.666-.017-.008-.036-.013-.053-.021-.376-.169-.762-.32-1.156-.453-.034-.011-.067-.026-.101-.037-.411-.135-.83-.251-1.258-.345l-.06-.016c-.417-.09-.841-.158-1.271-.207l-.09-.014A13.504 13.504 0 0047 33c-5.923 0-10.923 3.986-12.485 9.413a2.208 2.208 0 01-.697-1.613v-2.957c.198-.243.405-.518.617-.817a20.344 20.344 0 002.616-5.123 3.63 3.63 0 002.085-3.289v-3.545c0-.866-.318-1.708-.886-2.369v-4.667c.052-.52.236-3.448-1.883-5.864C34.524 10.065 31.541 9 27.5 9s-7.024 1.065-8.867 3.168c-2.119 2.416-1.935 5.346-1.883 5.864v4.667a3.645 3.645 0 00-.886 2.369v3.545a3.64 3.64 0 001.339 2.821c.81 3.173 2.476 5.575 3.092 6.389v2.894a2.23 2.23 0 01-1.162 1.958l-7.907 4.313a7.301 7.301 0 00-.752.477C5.276 42.792 2 36.022 2 28.5zm23.605 25.422c-.109-.008-.218-.015-.326-.025a25.538 25.538 0 01-1.893-.234l-.077-.014a25.545 25.545 0 01-4.005-1.009 25.625 25.625 0 01-3.601-1.544c-.067-.035-.135-.068-.201-.103a25.756 25.756 0 01-1.94-1.156 25.598 25.598 0 01-1.343-.936l-.133-.104.097-.054 7.907-4.313a4.23 4.23 0 002.204-3.714v-3.603l-.233-.278c-.021-.025-2.176-2.634-2.999-6.215l-.091-.396-.341-.221a1.657 1.657 0 01-.769-1.392v-3.545c0-.465.198-.898.557-1.223l.33-.298v-5.57l-.009-.131c-.003-.024-.298-2.429 1.396-4.36C21.583 11.837 24.06 11 27.5 11c3.425 0 5.897.83 7.346 2.466 1.692 1.911 1.415 4.361 1.413 4.381l-.009 5.701.33.298c.359.324.557.758.557 1.223v3.545a1.65 1.65 0 01-1.181 1.574l-.498.154-.16.496a18.457 18.457 0 01-2.496 5.032 11.75 11.75 0 01-.736.948l-.248.283V40.8c0 1.587.868 3.015 2.268 3.746A13.17 13.17 0 0034 46c0 .292.01.583.029.873.007.103.021.205.031.307.009.096.018.191.029.287.01.09.015.181.027.27.023.17.056.338.086.507.02.115.035.231.058.345l.003.012c.006.03.015.058.021.088.031.146.068.291.104.436.025.101.045.202.072.302.024.088.055.173.081.26.034.116.07.231.108.345.024.072.042.145.067.216.07.201.15.399.23.596l.003.008a13.477 13.477 0 00.343.77c.034.071.064.143.099.213.023.046.05.09.074.136.084.163.173.322.264.48.027.047.051.096.078.143A25.252 25.252 0 0127.5 54a25.43 25.43 0 01-1.895-.078zM47 57c-3.661 0-6.901-1.805-8.902-4.564-.083-.114-.158-.231-.236-.347-.054-.08-.111-.158-.162-.239a14.403 14.403 0 01-.127-.208c-.045-.074-.085-.15-.128-.225-.069-.122-.143-.241-.207-.365-.047-.091-.089-.185-.134-.278l-.035-.076c-.075-.157-.153-.312-.221-.472-.036-.085-.063-.173-.097-.258-.077-.199-.155-.398-.221-.602-.031-.095-.055-.193-.083-.289a10.862 10.862 0 01-.18-.691c-.014-.063-.025-.127-.038-.191l-.036-.181a11.452 11.452 0 01-.103-.672l-.009-.079c-.009-.082-.022-.164-.029-.246A11.043 11.043 0 0136 46a11.081 11.081 0 01.169-1.853l.074-.433C37.298 38.742 41.719 35 47 35c.446 0 .89.034 1.332.089.101.012.199.031.299.046.365.055.728.127 1.086.219.075.019.15.037.225.058.882.247 1.735.601 2.537 1.063C55.773 38.377 58 41.93 58 46c0 6.065-4.935 11-11 11z">
                    </path>
                  </svg>
                  My account
                </li>
              </router-link>
              <router-link class="router-link" :class="{ 'light-text': isDarkMode, 'dark-text': !isDarkMode }" to="/settings">
                <li class="menu-item" @click="toggleMenu">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 57">
                    <path
                      d="M55.688 41.863l-1.444-.277a1.934 1.934 0 01-1.462-1.216 1.932 1.932 0 01.245-1.885l.907-1.236a1 1 0 00-.1-1.299l-1.959-1.958a1.001 1.001 0 00-1.268-.121l-1.217.824a1.935 1.935 0 01-1.895.175 1.935 1.935 0 01-1.16-1.508l-.233-1.515a.998.998 0 00-.987-.847h-2.77a1 1 0 00-.982.812l-.358 1.865a1.94 1.94 0 01-1.181 1.448 1.934 1.934 0 01-1.86-.189l-1.572-1.064a1.001 1.001 0 00-1.268.121l-1.959 1.958a1 1 0 00-.1 1.299l.907 1.236c.408.556.498 1.243.245 1.885a1.934 1.934 0 01-1.462 1.216l-1.444.277a1.001 1.001 0 00-.812.982v2.77a1 1 0 00.848.988l1.515.233a1.937 1.937 0 011.508 1.16 1.938 1.938 0 01-.175 1.895l-.824 1.217a1 1 0 00.121 1.268l1.958 1.959c.348.349.899.39 1.299.1l1.236-.907a1.934 1.934 0 011.885-.245 1.934 1.934 0 011.216 1.462l.277 1.444c.091.469.503.81.983.81h2.77a1 1 0 00.988-.848l.164-1.065a1.955 1.955 0 011.193-1.522 1.957 1.957 0 011.921.232l.869.638c.4.293.951.25 1.299-.1l1.958-1.959a1 1 0 00.121-1.268l-.824-1.217a1.938 1.938 0 01-.175-1.895 1.935 1.935 0 011.508-1.16l1.515-.233a1 1 0 00.848-.988v-2.77a1.003 1.003 0 00-.813-.982zM54.5 44.758l-.667.103a3.95 3.95 0 00-3.036 2.337 3.95 3.95 0 00.352 3.815l.361.533-.768.768-.177-.13a3.947 3.947 0 00-3.869-.467 3.942 3.942 0 00-2.405 3.065l-.033.218h-1.086l-.121-.633a3.952 3.952 0 00-2.449-2.947 3.96 3.96 0 00-3.8.494l-.544.399-.768-.768.361-.533a3.953 3.953 0 00.352-3.815 3.95 3.95 0 00-3.036-2.337l-.667-.102v-1.086l.633-.121a3.952 3.952 0 002.947-2.449 3.956 3.956 0 00-.494-3.8l-.399-.544.768-.768.889.602a3.96 3.96 0 003.747.381 3.963 3.963 0 002.38-2.919L43.172 33h1.086l.103.667a3.95 3.95 0 002.337 3.036 3.952 3.952 0 003.815-.352l.533-.361.768.768-.399.544a3.952 3.952 0 00-.494 3.8 3.953 3.953 0 002.947 2.449l.633.121v1.086z">
                    </path>
                    <path
                      d="M43.5 39c-2.757 0-5 2.243-5 5s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5zm0 8c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3zM27.5 12a1 1 0 100 2h18a1 1 0 100-2h-18zM46.5 27a1 1 0 00-1-1h-18a1 1 0 100 2h18a1 1 0 001-1zM21.079 7.241a.999.999 0 00-1.409.108l-6.248 7.288L9.6 11.771a.999.999 0 10-1.199 1.599l4.571 3.429a.995.995 0 001.359-.15l6.857-8a.997.997 0 00-.109-1.408zM21.079 21.241a.999.999 0 00-1.409.108l-6.248 7.288L9.6 25.771a.999.999 0 10-1.199 1.599l4.571 3.429a.995.995 0 001.359-.15l6.857-8a.997.997 0 00-.109-1.408zM19.67 36.35l-6.248 7.287L9.6 40.771a.998.998 0 10-1.199 1.599l4.571 3.429a.995.995 0 001.359-.15l6.857-7.999a1 1 0 10-1.518-1.3z">
                    </path>
                    <path
                      d="M23.5 52H12.676C7.064 52 2.5 47.436 2.5 41.824V12.176C2.5 6.564 7.064 2 12.676 2h29.648C47.936 2 52.5 6.564 52.5 12.176V33a1 1 0 102 0V12.176C54.5 5.462 49.038 0 42.324 0H12.676C5.962 0 .5 5.462.5 12.176v29.648C.5 48.538 5.962 54 12.676 54H23.5a1 1 0 100-2z">
                    </path>
                  </svg>
                  Settings
                </li>
              </router-link>
              <li class="menu-item line2" @click="siginOut">
                <img src="src/assets/sign-out.png" class="menu-icon" alt="menu icon" />
                Sign out
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </header>
</template>

<script>
export default {
  name: "HeaderComponent",
  data() {
    return {
      name: "USERNAME - 00001233",
      pl: "0.00",
      showMenu: false,
    };
  },
  methods: {
    toggleMenu() {
      this.showMenu = !this.showMenu;
    },
    siginOut() {
      localStorage.removeItem("token");
      this.$store.commit("setIsAuthenticated", false);
      this.$router.push("/login");
    },
  },
  computed: {
    isAccountBar() {
      return this.$store.getters.getShowAccountBar;
    },
    isDarkMode() {
      return this.$store.getters.getIsDarkMode;
    },
    User() {
      return this.$store.getters.getUser;
    }
  },
};
</script>

<style scoped>
.margin-bar {
  padding: 1px;
}
.dark-dropdown {
  color: #c4c9c9;
  background-color: #131722 !important;
}

.light-dropdown {
  background-color: #d1d5d8 !important;
  color: black;
}

.dropdown-content {
  cursor: pointer;
  position: absolute;
  top: 4rem;
  right: 0rem;
  z-index: 1300;
  padding: 21px;
  width: 175px;
  font-size: smaller;
}

.menu-icon {
  width: 14px;
  height: 14px;
}

.menu-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.menu-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px;
  cursor: pointer;
}

.menu-item:hover {
  background-color: #1f6f6c;
}

.line2 {
  border-top: 0.1px ridge #c4c9c9;
}
</style>
